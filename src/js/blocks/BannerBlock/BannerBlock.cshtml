@using NMIC02_DC.Features.Blocks.BannerBlock
@using NMIC02_DC.Features.Shared
@using System.Text.Json
@using System.Web

@model BannerBlockViewModel

@{
    var bannerBlockData = new
    {
        Model.MessageType,
        Model.Title,
        Model.Subtitle,
        Model.Link,
        Model.IsDismissible,
        Model.CampaignType,
    };

    var bannerBlockDataJson = HttpUtility.JavaScriptStringEncode(JsonSerializer.Serialize(bannerBlockData));
    var exclude = Model.IsSearchable ? "" : "exclude";
}

<personalization-banner-block block-data="@bannerBlockDataJson"
    block-img="@Url.ContentUrl(Model.Image)" data-lwsearch="@exclude"></personalization-banner-block>
